# Use Case: Send Magic Packet

## **Use Case ID**: UC001-3

---

## **Short Description**
The system transmits the generated magic packet to the target computer via the designated Proxy Computer. This ensures that the Wake-on-LAN packet reaches the target computer even when it resides on a different subnet.

---

## **Primary Actor**
- **WoL Service**: Responsible for sending the magic packet to the Proxy Computer.

---

## **Secondary Actors**
- **Proxy Computer**: Receives the magic packet from the WoL Service and relays it to the target computer.

---

## **Preconditions**
- The magic packet has been successfully generated by the WoL Service.
- The Proxy Computer is online and reachable by the system.

---

## **Postconditions**
- **On Success**:
  - The magic packet is transmitted to the Proxy Computer.
  - The Proxy Computer confirms successful receipt and forwards the packet to the target computer.
- **On Failure**:
  - The system logs the failure to send the magic packet.
  - The admin is notified, and the use case terminates.

---

## **Main Flow**
1. The WoL Service identifies the Proxy Computer based on the adminâ€™s input.
2. The system ensures the Proxy Computer is reachable over the network.
3. The WoL Service sends the magic packet to the Proxy Computer.
4. The Proxy Computer receives the magic packet and forwards it to the target computer on its local network.
5. The system logs a successful transmission event.

---

## **Alternate Flows**

### **Proxy Computer Unreachable**
- If the Proxy Computer cannot be reached:
  - The system logs the error (e.g., "Proxy Computer is unreachable").
  - The admin is notified of the issue.
  - The use case terminates.

### **Transmission Failure**
- If the magic packet fails to transmit:
  - The system retries the transmission up to three times.
  - After three failed attempts:
    - The system logs the error (e.g., "Failed to send magic packet after retries").
    - The admin is notified.
    - The use case terminates.

---

## **Extensions**
- **Multiple Proxy Computers**:
  - The system allows specifying multiple Proxy Computers for load balancing or failover scenarios.
- **Transmission Confirmation**:
  - The Proxy Computer sends an acknowledgment back to the WoL Service after successfully forwarding the packet.

---

## **Special Requirements**
1. **Performance**:
   - Transmission to the Proxy Computer must complete within 1 second.
2. **Retry Logic**:
   - The system retries sending the packet up to three times if the initial attempt fails.
3. **Scalability**:
   - The system should handle simultaneous transmissions to multiple Proxy Computers without significant performance degradation.

---

## **Trigger**
- The use case starts when the magic packet is successfully generated by the WoL Service in the **"Generate Magic Packet"** sub-use case.

---
